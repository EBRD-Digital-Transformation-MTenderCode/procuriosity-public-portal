{"version":3,"sources":["accordion.js"],"names":["Accordion","options","element","getElementById","openTab","titleClass","contentClass","onClick","e","el","style","oneOpen","className","indexOf","closeAll","target","nextElementSibling","height","scrollHeight","forEach","call","querySelectorAll","item","getTarget","n","classList","add","addEventListener","open","close","destroy","document","accordion"],"mappings":"aAgBA,IAAIA,UAAY,SAASC,GACrB,IAAIC,EAAqC,iBAApBD,EAAQC,QAD7BF,SAAYG,eAAZH,EAAqBC,SAASA,EAAAC,QAC1BA,EAAUD,EAAOA,QAEjBG,EAAUH,EAAQG,UAFtB,EAKIC,EAAe,qBACfC,EAAe,uBAgCnB,SAASC,EAAQC,GA4Bb,IAAAC,EAGOC,GA1BM,IAATC,EAAAA,OAASC,UAAAC,QAAAR,KAILM,GACXG,IAkBGL,EAnBOD,EAAEO,OAAOC,mBAsBTN,EAAMO,EAATC,aAEG,QAAAT,EAAAC,MAAAO,QAAA,KAAAR,EAAAC,MAAAO,OACAP,EAAMO,MAATA,OAAAA,EAAA,GAAA,KAEPR,EAAAC,MAAAO,OAAA,GAlBI,SAFDH,IAGH,GAAAK,QAAAC,KAAAlB,EAAAmB,iBAAA,IAAAf,GAAA,SAAAgB,GAEDA,EAAAZ,MAAAO,OAAA,IAyBC,SAAAM,EAAAC,GAED,OAAAtB,EAAAmB,iBAAA,IAAAf,GAAAkB,EAAA,GAQI,SAAIT,EAASQ,GAAb,IAAIR,EAASQ,EAAUC,GAGfb,IACGD,GAAPI,IACHC,EAAAL,MAAAO,OAAAF,EAAAG,aAAA,GAAA,MA2BL,MA7GYI,GAAKG,QAAAA,KAALvB,EAAmBG,iBAAnB,UACKW,SAAAA,GAGbM,EAAAG,UAAAC,IAAArB,GAHQiB,EAAKN,mBAAmBS,UAAUC,IAAIpB,KAI9CJ,EAAQyB,iBAAiB,QAASpB,GAQjCO,IAFGV,GACAwB,EAAKxB,GAiGN,CAAPwB,KAAOA,EACCC,MAlBR,SAAAL,GACQT,IAAAA,EAASQ,EAAbC,GAEIT,IACMA,EAAOE,MAAbA,OAAA,IAeJY,QANJ,WAAA3B,EAAS4B,oBAAU,QAAAvB,MAWvB,GAAGwB,SAAS5B,eAAe,aAAxB4B,IAAAA,UAAS5B,IAAAA,UAAe,CACnB6B,QAAS,YACT9B,QAAS,EAAgBS,SAAA","file":"accordion.js","sourcesContent":["/**\n * @fileOverview\n * @author Zoltan Toth\n * @version 1.1.0\n */\n\n/**\n * @description\n * Vanilla JavaScript Accordion\n *\n * @class\n * @param {(string|Object)} options.element - HTML id of the accordion container\n *         or the DOM element.\n * @param {number} [options.openTab=1] - Start the accordion with this item opened.\n * @param {boolean} [options.oneOpen=false] - Only one tab can be opened at a time.\n */\nvar Accordion = function(options) {\n    var element = typeof options.element === 'string' ?\n        document.getElementById(options.element) : options.element,\n        openTab = options.openTab,\n        oneOpen = options.oneOpen || false,\n\n        titleClass   = 'js-Accordion-title',\n        contentClass = 'js-Accordion-content';\n\n    render();\n\n    /**\n     * Initial rendering of the accordion.\n     */\n    function render() {\n        // attach classes to buttons and containers\n        [].forEach.call(element.querySelectorAll('button'),\n            function(item) {\n                item.classList.add(titleClass);\n                item.nextElementSibling.classList.add(contentClass);\n            });\n\n        // attach only one click listener\n        element.addEventListener('click', onClick);\n\n        // accordion starts with all tabs closed\n        closeAll();\n\n        // sets the open tab - if defined\n        if (openTab) {\n            open(openTab);\n        }\n    }\n\n    /**\n     * Handles clicks on the accordion.\n     *\n     * @param {object} e - Element the click occured on.\n     */\n    function onClick(e) {\n        if (e.target.className.indexOf(titleClass) === -1) {\n            return;\n        }\n\n        if (oneOpen) {\n            closeAll();\n        }\n\n        toggle(e.target.nextElementSibling);\n    }\n\n    /**\n     * Closes all accordion tabs.\n     */\n    function closeAll() {\n        [].forEach.call(element.querySelectorAll('.' + contentClass), function(item) {\n            item.style.height = 0;\n        });\n    }\n\n    /**\n     * Toggles corresponding tab for each title clicked.\n     *\n     * @param {object} el - The content tab to show or hide.\n     */\n    function toggle(el) {\n        // getting the height every time in case\n        // the content was updated dynamically\n        var height = el.scrollHeight;\n\n        if (el.style.height === '0px' || el.style.height === '') {\n            el.style.height = height + 20 + 'px';\n        } else {\n            el.style.height = 0;\n        }\n    }\n\n\n    /**\n     * Returns the corresponding accordion content element by index.\n     *\n     * @param {number} n - Index of tab to return\n     */\n    function getTarget(n) {\n        return element.querySelectorAll('.' + contentClass)[n - 1];\n    }\n\n    /**\n     * Opens a tab by index.\n     *\n     * @param {number} n - Index of tab to open.\n     *\n     * @public\n     */\n    function open(n) {\n        var target = getTarget(n);\n\n        if (target) {\n            if (oneOpen) closeAll();\n            target.style.height = target.scrollHeight + 20 + 'px';\n        }\n    }\n\n    /**\n     * Closes a tab by index.\n     *\n     * @param {number} n - Index of tab to close.\n     *\n     * @public\n     */\n    function close(n) {\n        var target = getTarget(n);\n\n        if (target) {\n            target.style.height = 0;\n        }\n    }\n\n    /**\n     * Destroys the accordion.\n     *\n     * @public\n     */\n    function destroy() {\n        element.removeEventListener('click', onClick);\n    }\n\n    return {\n        open: open,\n        close: close,\n        destroy: destroy\n    };\n};\n\nif(document.getElementById(\"accordion\")) {\n    var accordion = new Accordion({\n        element: \"accordion\",    // ID of the accordion container\n        openTab: 1,              // [optional] Accordion tab to start opened with. All tabs closed if not set.\n        oneOpen: true            // [optional] Allow one accordion tab only to be opened at a time\n    });\n};"]}